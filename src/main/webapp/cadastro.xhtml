<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">


<ui:composition template="/template/common.xhtml">

	<ui:define name="body">
	
		<h:form id="formCadastro">
		<h5>Meu Cadastro</h5>

		<p:spacer width="200" height="10" />

			<p:fieldset legend="Dados Pessoais">

				<p:panelGrid columns="3" styleClass="fundoSaldo">

					<p:outputLabel value="CPF" for="itCpf" />
					<p:outputLabel value="RG" for="itRg" />
					<p:outputLabel />

					<p:inputText id="itCpf"
						value="#{cadastroMBean.cliente.cdsCPF}" disabled="true" required="true"/>
					<p:inputText id="itRg" maxlength="15"
						value="#{cadastroMBean.cliente.cdsRG}" required="true" requiredMessage="RG deve ser preenchido"/>
					<p:outputLabel />

					<p:outputLabel value="Primeiro Nome" for="itPrimeiroNome" />
					<p:outputLabel value="Sobrenome" for="itSobrenome" />
					<p:outputLabel value="Data de Nascimento" for="cDataDeNascimento" />

					<p:inputText id="itPrimeiroNome" maxlength="30"
						value="#{cadastroMBean.cliente.dsPrimeiroNome}" required="true" requiredMessage="Primeiro Nome deve ser preenchido"/>
					<p:inputText id="itSobrenome" maxlength="100"
						value="#{cadastroMBean.cliente.dsSobreNome}" required="true" requiredMessage="Sobrenome deve ser preenchido"/>
						
					<p:calendar id="cDataDeNascimento" 
						value="#{cadastroMBean.cliente.dtNascimento.time}" pattern="dd/MM/yyyy" mask="true" 
						required="true" requiredMessage="Data de Nascimento deve ser preenchida"/>


					<p:outputLabel value="Sexo" for="cbSexo" />
					<p:outputLabel value="Estado Civil" for="cbEstadoCivil" />
					<p:outputLabel value="Nome Completo Mãe" for="itNomeMae" />

					<p:selectOneMenu id="cbSexo" value="#{cadastroMBean.cliente.genero}" converter="GeneroToString"
						required="true" requiredMessage="Sexo deve ser preenchido">
						
						<f:selectItem itemLabel="Selecione" itemValue=""/>
						<f:selectItems value="#{cadastroMBean.cadastro.generos}"
							var="genero" itemLabel="#{genero.dsGenero}" itemValue="#{genero}" />
							
					</p:selectOneMenu>

					<p:selectOneMenu id="cbEstadoCivil" value="#{cadastroMBean.cliente.estadoCivil}" 
						converter="EstadoCivilToString" required="true" requiredMessage="Estado Civil deve ser preenchido">
						
						<f:selectItem itemLabel="Selecione" itemValue=""/>
						<f:selectItems value="#{cadastroMBean.cadastro.estadosCivis}"
							var="estCivil" itemLabel="#{estCivil.dsEstadoCivil}"
							itemValue="#{estadoCivil}" />
							
					</p:selectOneMenu>

					<p:inputText id="itNomeMae" value="#{cadastroMBean.cliente.nmCompletoMae}" maxlength="100" 
						required="true" requiredMessage="Nome da Mãe deve ser preenchido"/>



					<p:outputLabel value="Email" for="itEmail" />
					<p:outputLabel value="Confirmação  de Email" for="itConfirmaEmail" />
					<p:outputLabel />

					<p:inputText id="itEmail" value="#{cadastroMBean.cliente.dsEmail1}" maxlength="40"/>
					<p:inputText id="itConfirmaEmail" value="#{cadastroMBean.cliente.dsEmail2}" maxlength="40"/>
					<p:outputLabel />


					<p:outputLabel value="DDD" for="itDDDCel" />
					<p:outputLabel value="Celular" for="itCelular" />
					<p:outputLabel />

					<p:inputText id="itDDDCel" value="#{cadastroMBean.cliente.nrDDDCelular}" maxlength="2"
						required="true" requiredMessage="DDD Celular deve ser preenchido" />
					<p:inputText id="itCelular" value="#{cadastroMBean.cliente.nrCelular}" maxlength="9" 
						required="true" requiredMessage="Celular deve ser preenchido"/>
					<p:outputLabel />


					<p:outputLabel value="DDD" for="itDDD" />
					<p:outputLabel value="Telefone" for="itTelefone" />
					<p:outputLabel />

					<p:inputText id="itDDD" maxlength="2"
						value="#{cadastroMBean.cliente.nrDDDTelefone}" />
					<p:inputText id="itTelefone" maxlength="8" 
						value="#{cadastroMBean.cliente.nrTelefone}" />
					<p:outputLabel />

					<h:outputLabel for="pwd1" value="Senha" />
			        <h:outputLabel for="pwd2" value="Confirmação de Senha" />
					<p:outputLabel />

			        <p:inputText id="pwd1" value="#{cadastroMBean.cliente.txSenha1}" maxlength="50"
			        	required="true" requiredMessage="Senha deve ser preenchida"/>
			        <p:inputText id="pwd2" value="#{cadastroMBean.cliente.txSenha2}" maxlength="50"
			        	required="true" requiredMessage="Confirmação de Senha deve ser preenchida"/>
					<p:outputLabel />

				</p:panelGrid>
			</p:fieldset>
			
			<p:fieldset legend="Dados de Endereco">

				<p:panelGrid columns="3" styleClass="fundoSaldo">

					<p:outputLabel value="CEP" for="itCep" />
					<p:outputLabel value="Estado" for="cbEstado" />
					<p:outputLabel value="Cidade" for="itCidade" />

					<p:inputText id="itCep" value="#{cadastroMBean.endereco.nrCep}" maxlength="10" 
						required="true" requiredMessage="CEP deve ser preenchido" />

					<p:selectOneMenu id="cbEstado" value="#{cadastroMBean.endereco.sgEstado}"
						required="true" requiredMessage="Estado deve ser preenchido">
						<f:selectItem itemLabel="Selecione" />
						<f:selectItems value="#{cadastroMBean.cadastro.estados}" />
					</p:selectOneMenu>

					<p:inputText id="itCidade"
						value="#{cadastroMBean.endereco.nmCidade}" maxlength="100"/>

					<p:outputLabel value="Endereco" for="itEndereco" />
					<p:outputLabel value="Numero" for="itNumero" />
					<p:outputLabel value="Complemento" for="itComplemento" />

					<p:inputText id="itEndereco" maxlength="100"
						value="#{cadastroMBean.endereco.dsEndereco}" />
					<p:inputText id="itNumero" maxlength="5"
						value="#{cadastroMBean.endereco.nrEndereco}" />
					<p:inputText id="itComplemento" maxlength="100"
						value="#{cadastroMBean.endereco.dsComplemento}" />

					<p:outputLabel value="Bairro" for="itBairro" />
					<p:outputLabel />
					<p:outputLabel />
					<p:inputText id="itBairro" maxlength="100"
						value="#{cadastroMBean.endereco.nmBairro}" />

				</p:panelGrid>

			</p:fieldset>


			<p:fieldset legend="Dados Bancários">
				<p:panelGrid columns="4" styleClass="fundoSaldo">

					<p:outputLabel value="Instituição Financeira"
						for="itInstituicaoFinanceira" />
					<p:outputLabel value="Agência" for="itAgencia" />
					<p:outputLabel value="Conta Corrente" for="itContaCorrente" />
					<p:outputLabel value="Digito" for="itDigito" />

					<p:inputText id="itInstituicaoFinanceira" maxlength="50"
						value="#{cadastroMBean.conta.nmBanco}" />
					<p:inputText id="itAgencia" maxlength="10"
						value="#{cadastroMBean.conta.nrAgencia}" />
					<p:inputText id="itContaCorrente" maxlength="20"
						value="#{cadastroMBean.conta.nrConta}" />
					<p:inputText id="itDigito" value="#{cadastroMBean.conta.nrDigito}" maxlength="2"/>

				</p:panelGrid>
			</p:fieldset>

			<p:fieldset legend="Veículos" >

					<p:panelGrid columns="4" styleClass="fundoSaldo" id="painelVeiculo">
						<p:outputLabel value="Tag" for="itTag" />
						<p:outputLabel value="Marca" for="itMarca" />
						<p:outputLabel value="Modelo" for="itModelo" />
						<p:outputLabel value="Placa" for="itPlaca" />
	
						<p:inputText id="itTag"	disabled="true" value="#{cadastroMBean.tag.cdTag}"/>
						<p:inputText id="itMarca"	value="#{cadastroMBean.tag.veiculo.nmMarca}" maxlength="50"/>
						<p:inputText id="itModelo"	value="#{cadastroMBean.tag.veiculo.nmModelo}" maxlength="50"/>
						<p:inputText id="itPlaca"	value="#{cadastroMBean.tag.veiculo.nrPlaca}" maxlength="8"/>
					</p:panelGrid>
	

					<p:commandButton value="Salvar" action="#{cadastroMBean.salvaTag}" 
						process="@this painelVeiculo" update="painelVeiculo tabelaVeiculos"/>

					<p:commandButton value="Limpa" action="#{cadastroMBean.limpaTag}" 
						process="@this painelVeiculo" update="painelVeiculo"/> 


					
					<p:dataList id="tabelaVeiculos" value="#{cadastroMBean.tags}" var="tag" 
						type="unordered" >
				        <f:facet name="header">
				            Lista
				        </f:facet>
				        
				        <p:commandLink update=":formCadastro:painelVeiculo" title="Ver Detalhe" styleClass="ui-icon ui-icon-search" 
				        	style="float:left;margin-right:10px" process="@this"
				        	action="#{cadastroMBean.selecionaTag(tag)}"/>
				        
			            <h:outputText value="#{tag.veiculo.nmModelo}, #{tag.veiculo.nrPlaca}" style="display:inline-block"/>
				    </p:dataList>


			</p:fieldset>


			<p:commandButton value="Salva" styleClass="btnEntrar" 
				action="#{cadastroMBean.salvar}" update="formCadastro" />

			<p:commandButton value="Sair" styleClass="btnEntrar" 
				action="#{cadastroMBean.sair}"  immediate="true" />

		</h:form>
	</ui:define>
</ui:composition>



</html>